---
# Turn on AO for all nodes(by default)
profile::base::orch_agent: true
puppet_enterprise::master::code_manager::certname: test

#MOTD Message
profile::base::motd::message: |
  Welcome to the demo environment!  Have fun!

#DNS
profile::base::dns::search:
  - demo.lan

profile::base::dns::nameserver:
  - '10.240.0.10'
  - '10.240.1.10'

# User/Group
users:
  testuser1:
    comment: Example User
    uid: '2000'
    home: /home/testuser1
    groups:
      - testgroup1

groups:
  testgroup1:
    gid: '3000'

# Service defaults definitions
services:
  'windows2012 R2':
    wuauserv:
      enable: true

profile::webserver::apache::default_vhost: true

#Enable code manager
puppet_enterprise::profile::master::code_manager_auto_configure: false
puppet_enterprise::master::code_manager::authenticate_webhook: true
puppet_enterprise::profile::console::classifier_synchronization_period: 0
puppet_enterprise::profile::master::app_management: true
puppet_enterprise::profile::orchestrator::use_application_services: true
puppet_enterprise::master::puppetserver::jruby_max_active_instances: 4

# Code Manager Custom SSL Cert
puppet_enterprise::profile::master::file_sync_enabled: true
puppet_enterprise::profile::master::localcacert: /etc/puppetlabs/puppet/ssl/certs/rootCA.pem
profile::master::code_manager::certname: masterdemokey
puppet_enterprise::profile::console::browser_ssl_cert: /opt/puppetlabs/server/data/console-services/certs/masterdemokey.crt
puppet_enterprise::profile::console::browser_ssl_private_key: /opt/puppetlabs/server/data/console-services/certs/masterdemolan.key

#PuppetDB TTL
puppet_enterprise::profile::puppetdb::node_purge_ttl: "1s"

#Localtime
puppet_enterprise::profile::console::display_local_time: true

# Global Bridge
#global_bridge:
#  bridge:
#    iface: bridge
#    attributes:
#      'bridge-vlan-aware': yes
#      'bridge-ports': swp4 swp5
#      'bridge-vids': 2-5
#      'bridge-pvid': 6
#      'bridge-stp': on
